<Window x:Class="WPFTemplate.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:WPFTemplate" xmlns:sys="clr-namespace:System;assembly=mscorlib"
        mc:Ignorable="d"
        Title="MainWindow" Height="450" Width="800" WindowStartupLocation="CenterScreen">
    <Window.Resources>

        <x:Array Type="{x:Type local:Node}" x:Key="nodes">
            <local:Node Name="first" Age="1">
                <local:Node.ChildNode>
                    <local:Node Name="firstchild1" Age="2">
                        <local:Node.ChildNode>
                            <local:Node Name="grandchild1" Age="100">
                                <local:Node.ChildNode>
                                    <local:Node Name="100-1"/>
                                    <local:Node Name="100-2"/>
                                    <local:Node Name="100-3"/>
                                </local:Node.ChildNode>
                            </local:Node>
                            <local:Node Name="grandchild2" Age="101"/>
                            <local:Node Name="grandchild3" Age="102"/>
                        </local:Node.ChildNode>
                    </local:Node>
                    <local:Node Name="firstchild2" Age="3"/>
                    <local:Node Name="firstchild3" Age="4"/>
                </local:Node.ChildNode>
            </local:Node>
            <local:Node Name="second" Age="5">
                <local:Node.ChildNode>
                    <local:Node Name="secondchild1" Age="6"/>
                    <local:Node Name="secondchild2" Age="7"/>
                    <local:Node Name="secondchild3" Age="8"/>
                </local:Node.ChildNode>
            </local:Node>
        </x:Array>

    </Window.Resources>
    <StackPanel>
        <local:CornerTreeView ItemsSource="{StaticResource nodes}" x:Name="treeview" SelectedValuePath="Name" TreeViewType="Normal" Width="200">
            <TreeView.ItemTemplate>
                <HierarchicalDataTemplate DataType="{x:Type local:Node}" ItemsSource="{Binding ChildNode}">
                    <StackPanel Orientation="Horizontal" Margin="3,5">
                        <CheckBox IsChecked="{Binding Check, Mode=TwoWay}"/>
                        <TextBlock Text="{Binding Name}" VerticalAlignment="Center"/>
                    </StackPanel>
                </HierarchicalDataTemplate>
            </TreeView.ItemTemplate>
        </local:CornerTreeView>

        <local:CornerTreeView ItemsSource="{StaticResource nodes}" SelectedValuePath="Name" TreeViewType="Line" Width="200" Margin="10">
            <TreeView.ItemTemplate>
                <HierarchicalDataTemplate DataType="{x:Type local:Node}" ItemsSource="{Binding ChildNode}">
                    <StackPanel Orientation="Horizontal" Margin="3,5">
                        <CheckBox IsChecked="{Binding Check, Mode=TwoWay}"/>
                        <TextBlock Text="{Binding Name}" VerticalAlignment="Center"/>
                    </StackPanel>
                </HierarchicalDataTemplate>
            </TreeView.ItemTemplate>
        </local:CornerTreeView>

        <local:CornerTreeView ItemsSource="{StaticResource nodes}" SelectedValuePath="Name" TreeViewType="Original" Width="200" Margin="10">
            <TreeView.ItemTemplate>
                <HierarchicalDataTemplate DataType="{x:Type local:Node}" ItemsSource="{Binding ChildNode}">
                    <StackPanel Orientation="Horizontal" Margin="3,5">
                        <CheckBox IsChecked="{Binding Check, Mode=TwoWay}"/>
                        <TextBlock Text="{Binding Name}" VerticalAlignment="Center"/>
                    </StackPanel>
                </HierarchicalDataTemplate>
            </TreeView.ItemTemplate>
        </local:CornerTreeView>

        <local:CornerTreeView Width="200" Margin="10" TreeViewType="Original">
            <TreeViewItem Header="first">
                <TreeViewItem Header="first-1">
                    <TreeViewItem Header="{Binding RelativeSource={RelativeSource Mode=Self}, Path=ActualHeight}" />
                    <TreeViewItem Header="{Binding RelativeSource={RelativeSource Mode=Self}, Path=ActualHeight}" />
                    <TreeViewItem Header="{Binding RelativeSource={RelativeSource Mode=Self}, Path=ActualHeight}" />
                </TreeViewItem>
                <TreeViewItem Header="{Binding RelativeSource={RelativeSource Mode=Self}, Path=ActualHeight}" />
                <TreeViewItem Header="{Binding RelativeSource={RelativeSource Mode=Self}, Path=ActualHeight}" />
            </TreeViewItem>
            <TreeViewItem Header="{Binding RelativeSource={RelativeSource Mode=Self}, Path=ActualHeight}">
                <TreeViewItem Header="{Binding RelativeSource={RelativeSource Mode=Self}, Path=ActualHeight}" />
                <TreeViewItem Header="{Binding RelativeSource={RelativeSource Mode=Self}, Path=ActualHeight}" />
                <TreeViewItem Header="{Binding RelativeSource={RelativeSource Mode=Self}, Path=ActualHeight}" />
            </TreeViewItem>
        </local:CornerTreeView>
        
        <TreeView Margin="10" Width="200">
            <TreeViewItem Header="1">
                <TreeViewItem Header="11">
                    <TreeViewItem Header="111"/>
                </TreeViewItem>
            </TreeViewItem>
            <TreeViewItem Header="2"/>
            <TreeViewItem Header="3"/>
        </TreeView>
    </StackPanel>
</Window>
